<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% set page_title = (self.title() | striptags) %}
    {% set page_description = (self.meta_description() | striptags) %}
    <title>{% block title %}{{ config.name }} — Mentoring & Coaching{% endblock %}</title>
    <meta name="description" content="{% block meta_description %}{{ config.meta_description }}{% endblock %}">
    {% block social_meta %}
        <link rel="canonical" href="{{ canonical_url }}">
        <meta property="og:type" content="website">
        <meta property="og:site_name" content="{{ config.name }}">
        <meta property="og:title" content="{{ page_title }}">
        <meta property="og:description" content="{{ page_description }}">
        <meta property="og:url" content="{{ canonical_url }}">
        <meta property="og:image" content="{{ social_image_url }}">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="{{ page_title }}">
        <meta name="twitter:description" content="{{ page_description }}">
        <meta name="twitter:image" content="{{ social_image_url }}">
    {% endblock %}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://assets.calendly.com" crossorigin>
    <link rel="dns-prefetch" href="https://assets.calendly.com">
    <script>
        (function () {
            try {
                var savedTheme = localStorage.getItem('theme');
                if (savedTheme) {
                    document.documentElement.setAttribute('data-theme', savedTheme);
                }
            } catch (err) {
                console.warn('Theme preference unavailable', err);
            }
        })();
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css', v=config.asset_version) }}">
    <link rel="stylesheet" href="https://assets.calendly.com/assets/external/widget.css">
    {% if config.plausible_script_url %}
        <script
            defer
            src="{{ config.plausible_script_url }}"
            {% if config.plausible_domain %}data-domain="{{ config.plausible_domain }}"{% endif %}
        ></script>
        <script>
            window.plausible = window.plausible || function () { (plausible.q = plausible.q || []).push(arguments) };
            plausible.init = plausible.init || function (options) { plausible.o = options || {} };
            plausible.init();
        </script>
    {% endif %}
    {% block head_extra %}{% endblock %}
</head>
<body class="{{ body_class | default('') }}" data-calendly-link="{{ config.calendly_link }}" data-contact-link="{{ site_links.contact }}">
    <nav class="navbar">
        <div class="wrap">
            <div class="nav-content">
                <div class="nav-brand">
                    <a href="{{ site_links.home }}" class="nav-name-link">{{ config.name }}</a>
                    {% if config.tagline %}
                        <span class="nav-tagline">{{ config.tagline }}</span>
                    {% endif %}
                </div>
                <div class="nav-links" id="nav-links">
                    {% for item in nav_links %}
                        <a href="{{ item.href }}"
                            class="{% if item.is_cta %}nav-link--cta{% endif %}">
                            {{ item.label }}
                        </a>
                    {% endfor %}
                    <div class="language-switcher" data-language-dropdown>
                        <button type="button" class="language-switcher__toggle" aria-haspopup="true" aria-expanded="false">
                            <span class="language-switcher__label">EST</span>
                            <span class="language-switcher__chevron" aria-hidden="true">▾</span>
                        </button>
                        <div class="language-switcher__menu" role="menu">
                            <button type="button" class="language-switcher__menu-item" data-translate-lang="et" role="menuitem">EST</button>
                            <button type="button" class="language-switcher__menu-item" data-translate-lang="en" role="menuitem">ENG</button>
                            <button type="button" class="language-switcher__menu-item" data-translate-lang="fi" role="menuitem">FIN</button>
                            <button type="button" class="language-switcher__menu-item" data-translate-lang="ru" role="menuitem">RUS</button>
                        </div>
                    </div>
                </div>
                <div class="nav-controls">
                    <button id="dark-mode-toggle" class="dark-mode-toggle" aria-label="Toggle dark mode">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                    </button>
                </div>
                <div class="hamburger" id="hamburger" aria-label="Toggle navigation" role="button">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </nav>

    <main class="{{ main_class | default('site-main') }}" id="top">
        {% block main_inner %}
        <div class="wrap">
            {% block content %}{% endblock %}
        </div>
        {% endblock %}
    </main>

    <footer>
        <div class="wrap">
            <div class="footer-grid">
                <div class="footer-column footer-column--brand">
                    <a href="{{ site_links.home }}" class="footer-logo">{{ config.name }}</a>
                    {% if config.tagline %}
                        <p class="footer-tagline">{{ config.tagline }}</p>
                    {% endif %}
                    <p class="footer-description">
                        Dedicated 1:1 tutoring for animation, game development, and creative tech students worldwide.
                    </p>
                <div class="footer-contact">
                    <a href="mailto:{{ config.email }}" class="footer-contact-link">{{ config.email }}</a>
                </div>
                </div>
                <div class="footer-column">
                    <p class="footer-heading">Explore</p>
                    <ul class="footer-list">
                        {% for item in nav_links %}
                            <li><a href="{{ item.href }}">{{ item.label }}</a></li>
                        {% endfor %}
                    </ul>
                </div>
                <div class="footer-column">
                    <p class="footer-heading">Book</p>
                    <ul class="footer-list">
                        <li><a href="{{ config.stripe_payment_link }}" target="_blank" rel="noopener">Book a session</a></li>
                        <li><a href="{{ site_links.blog }}">Insights & Blog</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; {{ current_year }} {{ config.name }}. All rights reserved.</p>
                <div class="footer-bottom-links">
                    <a href="{{ site_links.about }}">About</a>
                    <a href="{{ config.stripe_payment_link }}" target="_blank" rel="noopener">Book a session</a>
                    <a href="{{ site_links.blog }}">Blog</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/script.js', v=config.asset_version) }}"></script>
    <div id="google_translate_element" aria-hidden="true"></div>
    <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    {% block scripts %}{% endblock %}
</body>
</html>
