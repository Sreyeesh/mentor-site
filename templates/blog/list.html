{% extends 'blog/base.html' %}

{% block title %}{{ config.name }} Blog{% endblock %}

{% block content %}
{% set featured = posts[0] if posts else None %}
{% set more_posts = posts[1:] if posts|length > 1 else [] %}

<section class="blog-hero gradient">
    <div class="blog-hero-copy">
        <p class="blog-hero-eyebrow">Toucan Field Notes</p>
        <h1>Art &amp; animation insights for people who build worlds.</h1>
        <p class="legacy-marker">Your creative career playbook, updated weekly.</p>
        <p class="blog-subtitle">Process logs, breakdowns, and mentoring lessons for artists, animators, and technical storytellers.</p>
        <ul class="blog-hero-bullets">
            <li>Lighting &amp; layout critiques pulled from real sessions</li>
            <li>Game feel experiments inside Unreal, Blender, and Godot</li>
            <li>Mindset shifts for balancing creative intent with tech realities</li>
        </ul>
    </div>
</section>

{% if featured %}
<section class="blog-featured">
    <p class="blog-featured-label">Latest deep dive</p>
    <article class="blog-featured-card{% if featured.hero_image %} blog-featured-card--with-media{% else %} blog-featured-card--simple{% endif %}">
        {% if featured.hero_image %}
            <div class="blog-featured-media">
                <img src="{{ url_for('static', filename=featured.hero_image) }}" alt="" loading="lazy">
            </div>
        {% endif %}
        <div class="blog-featured-body">
            <p class="blog-meta">{{ featured.date_display }} • {{ featured.reading_time }} min read</p>
            <h2><a href="{{ blog_index_href }}{{ featured.slug }}/">{{ featured.title }}</a></h2>
            <p class="blog-featured-excerpt">{{ featured.excerpt }}</p>
            <a class="blog-featured-link" href="{{ blog_index_href }}{{ featured.slug }}/">Read the full walkthrough</a>
        </div>
    </article>
</section>
{% endif %}

{% if more_posts %}
<section class="blog-post-list">
    <header class="blog-section-heading">
        <h2>Fresh sketches &amp; breakdowns</h2>
        <p>Short reads that capture what we learned in recent mentoring sessions and prototypes.</p>
    </header>
    <ul class="blog-card-grid">
        {% for post in more_posts %}
            <li class="blog-card">
                <article>
                    {% if post.hero_image %}
                        <div class="blog-card-image">
                            <img src="{{ url_for('static', filename=post.hero_image) }}" alt="" loading="lazy">
                        </div>
                    {% endif %}
                    <div class="blog-card-body">
                        <p class="blog-card-date">{{ post.date_display }} • {{ post.reading_time }} min read</p>
                        <h3><a href="{{ blog_index_href }}{{ post.slug }}/">{{ post.title }}</a></h3>
                        <p class="blog-card-excerpt">{{ post.excerpt }}</p>
                        <a class="blog-card-read-more" href="{{ blog_index_href }}{{ post.slug }}/">Open logbook →</a>
                    </div>
                </article>
            </li>
        {% endfor %}
    </ul>
</section>
{% endif %}

{% if not posts %}
    <p class="blog-empty">No posts yet — check back soon!</p>
{% endif %}
{% endblock %}
